// All AWS Batch and process configuration is managed by Seqera Compute
// The platform automatically configures executor, queue, region, etc.

// NOTE: This config tests EFS/FSx mounting behavior
// Customer issue: When configuring EFS/FSx mount in Seqera Platform UI,
// the volumes setting gets overridden to just 'volumes = "/staging"'
// instead of properly mounting the EFS/FSx filesystem.

// TEST 1 (BASELINE): Comment out containerOptions to test WITHOUT EFS
// This will show that /staging/scratch is just a directory on EBS (ext4)
// and replicates the customer's issue.

// TEST 2 (WITH EFS): Uncomment the process block below to test WITH EFS mount
// WARNING: This may conflict with Seqera Compute's management
// process {
//     containerOptions = "--volume fs-030e6f671ce998fa2:/staging/scratch"
// }

fusion {
    enabled = true
    exportStorageCredentials = true
}

wave {
    enabled = true
}