// All AWS Batch and process configuration is managed by Seqera Compute
// The platform automatically configures executor, queue, region, etc.

// NOTE: This config tests EFS/FSx mounting behavior
// Customer issue: When configuring EFS/FSx mount in Seqera Platform UI,
// the volumes setting gets overridden to just 'volumes = "/staging"'
// instead of properly mounting the EFS/FSx filesystem.

// TEST: Mount EFS directly via containerOptions
// This tests if Nextflow can mount EFS when specified in config
// May show if Seqera Compute overrides this setting (customer's issue)

process {
    containerOptions = "--volume fs-030e6f671ce998fa2:/staging/scratch"
}

fusion {
    enabled = true
    exportStorageCredentials = true
}

wave {
    enabled = true
}